{"version":3,"sources":["loading.gif","fileinput.js","Estimator.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","d3","require","FileInput","props","document","body","ondragover","ev","preventDefault","stopPropagation","ondrop","handleDrop","bind","this","startLoading","dataTransfer","items","length","parseFile","getAsFile","files","e","target","file","reader","FileReader","onload","tblob","result","rows","csvParseRows","toLowerCase","trim","splice","onChange","readAsText","type","handleUpload","React","Component","postalCodeToName","al","ak","az","ar","ca","co","ct","de","fl","ga","hi","id","il","in","ia","ks","ky","la","me","mh","md","ma","mi","mn","ms","mo","mt","ne","nv","nh","nj","nm","ny","nc","nd","oh","ok","or","pa","pr","ri","sc","sd","tn","tx","ut","vt","va","wa","dc","wv","wi","wy","df","parsedDate","date","dd","String","getDate","padStart","mm","getMonth","getFullYear","Estimator","state","uniStats","loading","sortMode","csv","then","forEach","r","location_name","replace","DataFrame","fetch","res","text","data","fileUploaded","setState","states","map","txt","days","i","Date","setDate","dateString","push","ourState","filter","popState","stat","mean","union","probPositive","sum","allStudents","estStudents","matchedStates","lines","sort","a","b","key","toFixed","toLocaleString","isNaN","colSpan","Math","round","className","style","textAlign","padding","href","border","src","LoadingGif","alt","onClick","approxPositiveStudents","App","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message"],"mappings":"yFAAAA,EAAOC,QAAU,s+Y,uPCEXC,EAAKC,EAAQ,KAEEC,E,kDACnB,WAAYC,GAAQ,IAAD,6BACjB,cAAMA,GAENC,SAASC,KAAKC,WAAa,SAACC,GACxBA,EAAGC,iBACHD,EAAGE,mBAEPL,SAASC,KAAKK,OAAS,EAAKC,WAAWC,KAAhB,gBAPN,E,uDAURL,GACTA,EAAGC,iBACHD,EAAGE,kBACHI,KAAKV,MAAMW,eAEPP,EAAGQ,aAAaC,OAAST,EAAGQ,aAAaC,MAAMC,OACjDJ,KAAKK,UAAUX,EAAGQ,aAAaC,MAAM,GAAGG,aAC/BZ,EAAGQ,aAAaK,OAASb,EAAGQ,aAAaK,MAAMH,QACxDJ,KAAKK,UAAUX,EAAGQ,aAAaK,MAAM,GAAGD,e,mCAI/BE,GACXR,KAAKV,MAAMW,eACXD,KAAKK,UAAUG,EAAEC,OAAOF,MAAM,M,gCAGtBG,GAAO,IAAD,OACVC,EAAS,IAAIC,WACjBD,EAAOE,OAAS,SAACL,GACb,IAAIM,EAAQN,EAAEC,OAAOM,OACjBC,EAAO7B,EAAG8B,aAAaH,GAEa,UAApCE,EAAK,GAAG,GAAGE,cAAcC,QAC3BH,EAAKI,OAAO,EAAG,GAEjB,EAAK9B,MAAM+B,SAASL,IAExBL,EAAOW,WAAWZ,K,+BAIlB,OAAO,6BACL,2BACEa,KAAK,OACLF,SAAUrB,KAAKwB,aAAazB,KAAKC,a,GA9CFyB,IAAMC,W,kBCEvCvC,EAAKC,EAAQ,KACbuC,EAAmB,CACvBC,GAAI,UACJC,GAAI,SACJC,GAAI,UACJC,GAAI,WACJC,GAAI,aACJC,GAAI,WACJC,GAAI,cACJC,GAAI,WACJC,GAAI,UACJC,GAAI,UACJC,GAAI,SACJC,GAAI,QACJC,GAAI,WACJC,GAAI,UACJC,GAAI,OACJC,GAAI,SACJC,GAAI,WACJC,GAAI,YACJC,GAAI,QACJC,GAAI,mBACJC,GAAI,WACJC,GAAI,gBACJC,GAAI,WACJC,GAAI,YACJC,GAAI,cACJC,GAAI,WACJC,GAAI,UACJC,GAAI,WACJC,GAAI,SACJC,GAAI,gBACJC,GAAI,aACJC,GAAI,aACJC,GAAI,WACJC,GAAI,iBACJC,GAAI,eACJC,GAAI,OACJC,GAAI,WACJC,GAAI,SACJC,GAAI,eACJC,GAAI,cACJC,GAAI,eACJC,GAAI,iBACJC,GAAI,eACJC,GAAI,YACJC,GAAI,QACJC,GAAI,OACJC,GAAI,UACJC,GAAI,WACJC,GAAI,aACJC,GAAI,uBACJC,GAAI,gBACJC,GAAI,YACJC,GAAI,WAGFC,EAAK,KAUT,SAASC,EAAWC,GAClB,IAAIC,EAAKC,OAAOF,EAAKG,WAAWC,SAAS,EAAG,KACxCC,EAAKH,OAAOF,EAAKM,WAAa,GAAGF,SAAS,EAAG,KAGjD,OAFWJ,EAAKO,cACC,IAAMF,EAAK,IAAMJ,E,IAIfO,E,kDACnB,WAAYrG,GAAQ,IAAD,8BACjB,cAAMA,IAEDsG,MAAQ,CACXC,SAAU,GACVC,SAAS,EACTC,SAAU,GANK,E,gEAUE,IAAD,OAClB5G,EAAG6G,IAAI,0CAA0CC,MAAK,SAAAjF,GAEpDA,EAAKkF,SAAQ,SAAAC,GAAC,OAAIA,EAAEC,cAAgBD,EAAEC,cAAclF,cAAcmF,QAAQ,cAAe,cACzFpB,EAAK,IAAIqB,IAAUtF,EAAM,CACvB,gBAAgB,gBAAgB,sBAAsB,aAAa,cACnE,kBAAkB,cAAc,eAAe,mBAAmB,cAClE,eAAe,mBAAmB,aAAa,sBAC/C,uBAAuB,uBAAuB,qBAAqB,sBACnE,sBAAsB,sBAAsB,uBAAuB,yBAGrEuF,MAAM,mCAAmCN,MAAK,SAAAO,GAAG,OAAIA,EAAIC,UAAQR,MAAK,SAAAS,GACpE,IAAI1F,EAAO7B,EAAG8B,aAAayF,GAC3B1F,EAAKI,OAAO,EAAG,GACf,EAAKuF,aAAa3F,W,qCAMtBhB,KAAK4G,SAAS,CAAEd,SAAS,M,mCAGd9E,GAGX,IAFA,IAAI6F,EAAS7F,EAAK8F,KAAI,SAACX,GAAD,MAAO,EApDbY,EAoDyBZ,EAAE,GAlD1B,KADnBY,EAAMA,EAAI5F,QACFf,SACJ2G,EAAMpF,EAAiBoF,EAAI7F,gBAExB6F,EAAI7F,eA+CuC,EAAIiF,EAAE,IApD1D,IAAoBY,KAqDZC,EAAO,GACFC,EAAI,EAAGA,EAAE,GAAIA,IAAK,CACzB,IAAI9B,EAAO,IAAI+B,KACf/B,EAAKgC,QAAQhC,EAAKG,UAAY2B,GAC9B,IAAIG,EAAalC,EAAWC,GAC5B6B,EAAKK,KAAKD,GAKZP,EAAOX,SAAQ,SAAAN,GAIb,IAHA,IAAI0B,EAAWrC,EAAGsC,OAAO,CAAC,cAAgB3B,EAAM,KAC5C4B,EAAWF,EAASG,KAAKC,KAAK,uBAC9BhB,EAAOY,EAASC,OAAO,CAAC,cAAgBP,EAAK,KACxCC,EAAI,EAAGA,EAAID,EAAK5G,OAAQ6G,IAC/BP,EAAOA,EAAKiB,MAAML,EAASC,OAAO,CAAC,cAAgBP,EAAKC,MAE1D,IAEIW,EAFiBlB,EACiBe,KAAKI,IAAI,mBACTL,EACtC5B,EAAMyB,KAAKO,MAKb5H,KAAK4G,SAAS,CACZf,SAAUgB,EACVf,SAAS,M,2BAIRC,GACH/F,KAAK4G,SAAS,CAAEb,SAAUA,M,+CAI1B,IAAIc,EAAS7G,KAAK4F,MAAMC,SACpBgC,EAAM,EACNC,EAAc,EACdC,EAAc,EACdC,EAAgB,EAChBC,EAAQ,GA0CZ,OAvC4B,IAAxBjI,KAAK4F,MAAMG,SAEbc,EAASA,EAAOqB,MAAK,SAACC,EAAGC,GAAJ,OAAUA,EAAE,GAAKD,EAAE,MACP,IAAxBnI,KAAK4F,MAAMG,SACpBc,EAASA,EAAOqB,MAAK,SAACC,EAAGC,GAAJ,OAAUA,EAAE,GAAKA,EAAE,GAAKD,EAAE,GAAKA,EAAE,MACrB,IAAxBnI,KAAK4F,MAAMG,WACpBc,EAASA,EAAOqB,QAGlBrB,EAAOX,SAAQ,SAACN,EAAOqB,GACrBgB,EAAMZ,KAAK,wBAAIgB,IAAKpB,GAClB,4BAAKrB,EAAM,IACX,6BAAe,IAATA,EAAM,IAAQ0C,QAAQ,GAA5B,KACA,4BAAK1C,EAAM,GAAG2C,kBACd,6BAAM3C,EAAM,GAAKA,EAAM,IAAI0C,QAAQ,MAErCR,GAA0B,EAAXlC,EAAM,GAChB4C,MAAM5C,EAAM,MACfmC,GAA0B,EAAXnC,EAAM,GACrBiC,GAAOjC,EAAM,GAAKA,EAAM,GACxBoC,QAIAF,GACFG,EAAMZ,KAAK,wBAAIgB,IAAI,SACjB,wBAAII,QAAQ,KACV,4CACA,6BAFF,iBAGiBT,EAHjB,qBAKA,4BACGD,EAAYQ,iBADf,IACiC,6BADjC,WAEWG,KAAKC,MAAMZ,EAAYD,EAAY,KAF9C,iBAIA,4BAAKD,EAAIS,QAAQ,GAAG,6BAApB,eAIGL,I,+BAGC,IAAD,OACP,OAAO,yBAAKW,UAAU,aACpB,yBAAKA,UAAU,aACb,yBAAKC,MAAO,CAACC,UAAU,WACrB,yBAAKF,UAAU,iCACb,wDAEF,6BAASA,UAAU,YACjB,uBAAGC,MAAO,CAACC,UAAW,OAAQC,QAAS,SACrC,2MADF,8XAEG,uBAAGC,KAAK,mBAAmBvI,OAAO,UAAlC,YAFH,wEAIE,uBAAGuI,KAAK,gCAAR,yBAJF,KAMA,uBAAGH,MAAO,CAACC,UAAW,OAAQC,QAAS,SACrC,+DADF,iJAOJ,wBAAIxG,GAAG,cAEP,yBAAKqG,UAAU,OACb,yBAAKA,UAAU,YACb,0CADF,6BAE4B,6BACxB,+CACc,6BADd,OAEI,6BAFJ,OAGI,6BAHJ,OAII,6BAJJ,QAQJ,yBAAKA,UAAU,YACb,4CADF,mEAGiB,6BAHjB,uCAKE,6BACA,yBAAKA,UAAU,oBAAoBC,MAAO,CAACI,OAAO,iBAAkBF,QAAS,IAC3E,kBAAC,EAAD,CACE1H,SAAUrB,KAAK2G,aAAa5G,KAAKC,MACjCC,aAAcD,KAAKC,aAAaF,KAAKC,UAK3C,yBAAK4I,UAAU,YACZ5I,KAAK4F,MAAME,QACR,yBAAKoD,IAAKC,IAAYC,IAAI,oBAC1B,6BACA,4BAAQR,UAAU,eAAeS,QAAS,SAAA7I,GAAC,OAAI,EAAK0H,KAAK,KAAzD,aACA,4BAAQU,UAAU,eAAeS,QAAS,SAAA7I,GAAC,OAAI,EAAK0H,KAAK,KAAzD,mBACA,4BAAQU,UAAU,eAAeS,QAAS,SAAA7I,GAAC,OAAI,EAAK0H,KAAK,KAAzD,wBAKR,wBAAI3F,GAAG,cAEP,yBAAKqG,UAAU,OACb,yBAAKA,UAAU,aACb,2BAAOA,UAAU,SACf,+BACE,4BACE,qCACA,6CACA,iDACA,2CAGJ,+BACG5I,KAAKsJ,mC,GArMiB7H,IAAMC,W,OCrE9B6H,MARf,WACE,OACE,yBAAKX,UAAU,OACb,kBAAC,EAAD,QCKcY,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DCZNC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFxK,SAASyK,eAAe,SDyHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBlE,MAAK,SAAAmE,GACJA,EAAaC,gBAEdC,OAAM,SAAAC,GACLC,QAAQD,MAAMA,EAAME,c","file":"static/js/main.c5038d66.chunk.js","sourcesContent":["module.exports = \"data:image/gif;base64,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\"","import React from 'react';\n\nconst d3 = require(\"d3\");\n\nexport default class FileInput extends React.Component {\n  constructor(props) {\n    super(props)\n\n    document.body.ondragover = (ev) => {\n        ev.preventDefault();\n        ev.stopPropagation();\n    };\n    document.body.ondrop = this.handleDrop.bind(this);\n  }\n\n  handleDrop(ev) {\n    ev.preventDefault();\n    ev.stopPropagation();\n    this.props.startLoading();\n\n    if (ev.dataTransfer.items && ev.dataTransfer.items.length) {\n      this.parseFile(ev.dataTransfer.items[0].getAsFile());\n    } else if (ev.dataTransfer.files && ev.dataTransfer.files.length) {\n      this.parseFile(ev.dataTransfer.files[0].getAsFile());\n    }\n  }\n\n  handleUpload(e) {\n    this.props.startLoading();\n    this.parseFile(e.target.files[0]);\n  }\n\n  parseFile(file) {\n    let reader = new FileReader();\n    reader.onload = (e) => {\n        let tblob = e.target.result,\n            rows = d3.csvParseRows(tblob);\n        // trim header\n        if (rows[0][0].toLowerCase().trim() === \"state\") {\n          rows.splice(0, 1);\n        }\n        this.props.onChange(rows);\n    };\n    reader.readAsText(file);\n  }\n\n  render() {\n    return <div>\n      <input\n        type=\"file\"\n        onChange={this.handleUpload.bind(this)}\n      />\n    </div>\n  }\n}\n","import React from 'react';\nimport DataFrame from \"dataframe-js\";\n\nimport FileInput from './fileinput';\nimport LoadingGif from './loading.gif';\n\nconst d3 = require(\"d3\");\nconst postalCodeToName = {\n  al: \"Alabama\",\n  ak: \"Alaska\",\n  az: \"Arizona\",\n  ar: \"Arkansas\",\n  ca: \"California\",\n  co: \"Colorado\",\n  ct: \"Connecticut\",\n  de: \"Delaware\",\n  fl: \"Florida\",\n  ga: \"Georgia\",\n  hi: \"Hawaii\",\n  id: \"Idaho\",\n  il: \"Illinois\",\n  in: \"Indiana\",\n  ia: \"Iowa\",\n  ks: \"Kansas\",\n  ky: \"Kentucky\",\n  la: \"Louisiana\",\n  me: \"Maine\",\n  mh: \"Marshall Islands\",\n  md: \"Maryland\",\n  ma: \"Massachusetts\",\n  mi: \"Michigan\",\n  mn: \"Minnesota\",\n  ms: \"Mississippi\",\n  mo: \"Missouri\",\n  mt: \"Montana\",\n  ne: \"Nebraska\",\n  nv: \"Nevada\",\n  nh: \"New Hampshire\",\n  nj: \"New Jersey\",\n  nm: \"New Mexico\",\n  ny: \"New York\",\n  nc: \"North Carolina\",\n  nd: \"North Dakota\",\n  oh: \"Ohio\",\n  ok: \"Oklahoma\",\n  or: \"Oregon\",\n  pa: \"Pennsylvania\",\n  pr: \"Puerto Rico\",\n  ri: \"Rhode Island\",\n  sc: \"South Carolina\",\n  sd: \"South Dakota\",\n  tn: \"Tennessee\",\n  tx: \"Texas\",\n  ut: \"Utah\",\n  vt: \"Vermont\",\n  va: \"Virginia\",\n  wa: \"Washington\",\n  dc: \"District of Columbia\",\n  wv: \"West Virginia\",\n  wi: \"Wisconsin\",\n  wy: \"Wyoming\"\n};\n\nlet df = null;\n\nfunction lowerState(txt) {\n  txt = txt.trim();\n  if (txt.length === 2) {\n      txt = postalCodeToName[txt.toLowerCase()]\n  }\n  return txt.toLowerCase();\n}\n\nfunction parsedDate(date) {\n  let dd = String(date.getDate()).padStart(2, '0'),\n      mm = String(date.getMonth() + 1).padStart(2, '0'),\n      yyyy = date.getFullYear(),\n      str = yyyy + '-' + mm + '-' + dd;\n  return str;\n};\n\nexport default class Estimator extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      uniStats: [],\n      loading: true,\n      sortMode: 0\n    }\n  }\n\n  componentDidMount() {\n    d3.csv('/estimate-incoming/infections_data.csv').then(rows => {\n      // console.log(rows);\n      rows.forEach(r => r.location_name = r.location_name.toLowerCase().replace(\"georgia_two\", \"georgia\"))\n      df = new DataFrame(rows, [\n        \"date_reported\",\"location_name\",\"location_population\",\"mean_admis\",\"mean_deaths\",\n        \"mean_infections\",\"upper_admis\",\"upper_deaths\",\"upper_infections\",\"lower_admis\",\n        \"lower_deaths\",\"lower_infections\",\"cum_deaths\",\"seroprevalence_mean\",\n        \"seroprevalence_upper\",\"seroprevalence_lower\",\"admis_mean_per_cap\",\"admis_upper_per_cap\",\n        \"admis_lower_per_cap\",\"deaths_mean_per_cap\",\"deaths_upper_per_cap\",\"deaths_lower_per_cap\"]);\n      // infections_data.show(3);\n\n      fetch(\"/estimate-incoming/students.csv\").then(res => res.text()).then(data => {\n        let rows = d3.csvParseRows(data);\n        rows.splice(0, 1);\n        this.fileUploaded(rows);\n      });\n    });\n  }\n\n  startLoading() {\n    this.setState({ loading: true })\n  }\n\n  fileUploaded(rows) {\n    let states = rows.map((r) => [lowerState(r[0]), 1 * r[1]]),\n        days = [];\n    for (var i = 5; i<22; i++) {\n      var date = new Date();\n      date.setDate(date.getDate() - i);\n      let dateString = parsedDate(date);\n      days.push(dateString);\n    }\n\n    // input: [ [name, students] ]\n\n    states.forEach(state => {\n      let ourState = df.filter({'location_name':state[0]});\n      let popState = ourState.stat.mean('location_population');\n      let data = ourState.filter({'date_reported':days[0]});\n      for (var i = 1; i < days.length; i++) {\n        data = data.union(ourState.filter({'date_reported':days[i]}))\n      }\n      let pastInfections = data;\n      let currentPositives = pastInfections.stat.sum('mean_infections');\n      let probPositive = currentPositives / popState;\n      state.push(probPositive);\n    });\n\n    // output: [[ name, students, fraction_prob_positive ]]\n\n    this.setState({\n      uniStats: states,\n      loading: false\n    })\n  }\n\n  sort(sortMode) {\n    this.setState({ sortMode: sortMode })\n  }\n\n  approxPositiveStudents() {\n    let states = this.state.uniStats,\n        sum = 0,\n        allStudents = 0,\n        estStudents = 0,\n        matchedStates = 0,\n        lines = [];\n\n    // default sort is A-Z\n    if (this.state.sortMode === 1) {\n      // sort by positivity\n      states = states.sort((a, b) => b[2] - a[2])\n    } else if (this.state.sortMode === 2) {\n      states = states.sort((a, b) => b[2] * b[1] - a[2] * a[1])\n    } else if (this.state.sortMode === 0) {\n      states = states.sort()\n    }\n\n    states.forEach((state, i) => {\n      lines.push(<tr key={i}>\n        <td>{state[0]}</td>\n        <td>{(state[2]*100).toFixed(2)}%</td>\n        <td>{state[1].toLocaleString()}</td>\n        <td>{(state[1] * state[2]).toFixed(2)}</td>\n      </tr>)\n      allStudents += state[1] * 1;\n      if (!isNaN(state[2])) {\n        estStudents += state[1] * 1;\n        sum += state[1] * state[2];\n        matchedStates++;\n      }\n    })\n\n    if (allStudents) {\n      lines.push(<tr key=\"total\">\n        <td colSpan=\"2\">\n          <strong>Total - </strong>\n          <br/>\n          File included {matchedStates}/51 (states + DC)\n        </td>\n        <td>\n          {estStudents.toLocaleString()} <br/>\n          Matched {Math.round(estStudents/allStudents*100)}% of students\n        </td>\n        <td>{sum.toFixed(2)}<br/>Estimated</td>\n      </tr>)\n    }\n\n    return lines;\n  }\n\n  render() {\n    return <div className=\"container\">\n      <div className=\"col-sm-12\">\n        <div style={{textAlign:\"center\"}}>\n          <nav className=\"navbar navbar-dark bg-primary\">\n            <h2>Estimate Arriving Cases</h2>\n          </nav>\n          <section className=\"qSection\">\n            <p style={{textAlign: 'left', padding: '10px'}}>\n              <strong>This is a calculator to help university leadership estimate how many students will immediately test positive for COVID-19 as they arrive on campus in the Fall of 2020.</strong> We use data from Dr. Abraham Flaxman at the University of Washington that estimates the number of daily infections in each state, along with university-specific data on where students are coming from. Our intention is to help universities start planning their testing rollout as quickly and as accurately as possible. This calculator is a project of the MGGG Redistricting Lab\n              (<a href=\"https://mggg.org\" target=\"_blank\">mggg.org</a>)\n              at Tisch College of Tufts University.  For information, contact&nbsp;\n              <a href=\"mailto:Moon.Duchin@tufts.edu\">Moon.Duchin@tufts.edu</a>.\n            </p>\n            <p style={{textAlign: 'left', padding: '10px'}}>\n              <strong>How to use this calculator:</strong>&nbsp;\n              Upload a .csv file (formatted as below) that contains the number of students from each state, and the calculator will handle the rest.\n            </p>\n          </section>\n        </div>\n        \n        <hr id=\"separator\"/>\n\n        <div className=\"row\">\n          <div className=\"col-sm-3\">\n            <h3>Create CSV</h3>\n            It should have this format<br/>\n              <code>\n              state,students<br/>\n              AK,2<br/>\n              AL,4<br/>\n              AR,3<br/>\n              ...\n              </code>\n          </div>\n          <div className=\"col-sm-6\">\n            <h3>Process File</h3>\n            Drag and drop the CSV file onto this webpage, or\n            choose it here.<br/>\n            It is read locally and not uploaded.\n            <br/>\n            <div className=\"col-sm-6 offset-3\" style={{border:\"1px solid #ccc\", padding: 6}}>\n              <FileInput\n                onChange={this.fileUploaded.bind(this)}\n                startLoading={this.startLoading.bind(this)}\n                />\n            </div>\n          </div>\n\n          <div className=\"col-sm-3\">\n            {this.state.loading\n              ? <img src={LoadingGif} alt=\"Loading spinner\"/>\n              : <div>\n                <button className=\"btn btn-info\" onClick={e => this.sort(0)}>Sort A->Z</button>\n                <button className=\"btn btn-info\" onClick={e => this.sort(1)}>Sort by State %</button>\n                <button className=\"btn btn-info\" onClick={e => this.sort(2)}>Sort by Positives</button>\n              </div>}\n          </div>\n        </div>\n\n        <hr id=\"separator\"/>\n\n        <div className=\"row\">\n          <div className=\"col-sm-12\">\n            <table className=\"table\">\n              <thead>\n                <tr>\n                  <th>State</th>\n                  <th>Positive Rate</th>\n                  <th>Arriving Students</th>\n                  <th>Positives</th>\n                </tr>\n              </thead>\n              <tbody>\n                {this.approxPositiveStudents()}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n    </div>\n  }\n}\n","import React from 'react';\nimport Estimator from './Estimator';\nimport './App.css';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Estimator/>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}